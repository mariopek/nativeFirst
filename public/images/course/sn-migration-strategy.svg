<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 340" width="900" height="340">
  <defs>
    <linearGradient id="bgM1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0a1a"/>
      <stop offset="100%" style="stop-color:#1a0e2e"/>
    </linearGradient>
  </defs>
  <rect width="900" height="340" fill="url(#bgM1)" rx="16"/>
  <text x="450" y="38" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="20" font-weight="700">SwiftData Migration Strategy</text>
  <text x="450" y="58" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="12">Version your schema from day one — protect user data on every update</text>

  <!-- V1 -->
  <rect x="50" y="90" width="200" height="100" rx="12" fill="#22c55e" opacity="0.1" stroke="#22c55e" stroke-width="2"/>
  <text x="150" y="118" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="16" font-weight="700">Schema V1</text>
  <text x="150" y="140" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">UserProfile, DailyCheckin</text>
  <text x="150" y="158" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">UrgeLog, JournalEntry</text>
  <text x="150" y="178" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="9">Initial release</text>

  <!-- Arrow V1→V2 -->
  <line x1="250" y1="140" x2="320" y2="140" stroke="#f97316" stroke-width="2" opacity="0.5"/>
  <polygon points="318,135 328,140 318,145" fill="#f97316" opacity="0.5"/>
  <text x="285" y="128" text-anchor="middle" fill="#fdba74" font-family="system-ui" font-size="9">lightweight</text>

  <!-- V2 -->
  <rect x="330" y="90" width="220" height="100" rx="12" fill="#f97316" opacity="0.1" stroke="#f97316" stroke-width="2"/>
  <text x="440" y="118" text-anchor="middle" fill="#fdba74" font-family="system-ui" font-size="16" font-weight="700">Schema V2</text>
  <text x="440" y="140" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">+ sentimentScore: Double = 0.0</text>
  <text x="440" y="158" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">+ isBookmarked: Bool = false</text>
  <text x="440" y="178" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="9">Default values = auto migration</text>

  <!-- Arrow V2→V3 -->
  <line x1="550" y1="140" x2="620" y2="140" stroke="#ef4444" stroke-width="2" opacity="0.5"/>
  <polygon points="618,135 628,140 618,145" fill="#ef4444" opacity="0.5"/>
  <text x="585" y="128" text-anchor="middle" fill="#fca5a5" font-family="system-ui" font-size="9">custom</text>

  <!-- V3 -->
  <rect x="630" y="90" width="220" height="100" rx="12" fill="#ef4444" opacity="0.1" stroke="#ef4444" stroke-width="2"/>
  <text x="740" y="118" text-anchor="middle" fill="#fca5a5" font-family="system-ui" font-size="16" font-weight="700">Schema V3</text>
  <text x="740" y="140" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">rename property, split model</text>
  <text x="740" y="158" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">custom transform logic</text>
  <text x="740" y="178" text-anchor="middle" fill="#fca5a5" font-family="system-ui" font-size="9">Requires MigrationStage.custom</text>

  <!-- Bottom: Migration Plan -->
  <rect x="100" y="225" width="700" height="85" rx="12" fill="#9333ea" opacity="0.06" stroke="#9333ea" stroke-width="1.5"/>
  <text x="450" y="255" text-anchor="middle" fill="#c084fc" font-family="system-ui" font-size="14" font-weight="700">SchemaMigrationPlan</text>
  <text x="240" y="285" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="11">Lightweight: add property with default</text>
  <text x="450" y="285" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">|</text>
  <text x="650" y="285" text-anchor="middle" fill="#fca5a5" font-family="system-ui" font-size="11">Custom: rename, transform, split</text>
</svg>