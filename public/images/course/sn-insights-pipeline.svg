<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 360" width="900" height="360">
  <defs>
    <linearGradient id="bgIP" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0a1a"/>
      <stop offset="100%" style="stop-color:#1a0e2e"/>
    </linearGradient>
  </defs>
  <rect width="900" height="360" fill="url(#bgIP)" rx="16"/>
  <text x="450" y="38" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="20" font-weight="700">AI Insights Engine — Data Pipeline</text>
  <text x="450" y="58" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="12">From raw recovery data to personalized insights — all on-device</text>

  <!-- Data Sources -->
  <rect x="30" y="85" width="170" height="45" rx="8" fill="#22c55e" opacity="0.12" stroke="#22c55e" stroke-width="1"/>
  <text x="115" y="113" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="12" font-weight="600">DailyCheckin</text>
  <rect x="30" y="140" width="170" height="45" rx="8" fill="#f97316" opacity="0.12" stroke="#f97316" stroke-width="1"/>
  <text x="115" y="168" text-anchor="middle" fill="#fdba74" font-family="system-ui" font-size="12" font-weight="600">UrgeLog</text>
  <rect x="30" y="195" width="170" height="45" rx="8" fill="#06b6d4" opacity="0.12" stroke="#06b6d4" stroke-width="1"/>
  <text x="115" y="223" text-anchor="middle" fill="#67e8f9" font-family="system-ui" font-size="12" font-weight="600">JournalEntry</text>

  <!-- Arrows to engine -->
  <line x1="200" y1="107" x2="260" y2="160" stroke="#22c55e" stroke-width="1" opacity="0.4"/>
  <line x1="200" y1="162" x2="260" y2="162" stroke="#f97316" stroke-width="1" opacity="0.4"/>
  <line x1="200" y1="217" x2="260" y2="165" stroke="#06b6d4" stroke-width="1" opacity="0.4"/>

  <!-- Insights Engine -->
  <rect x="260" y="100" width="180" height="130" rx="12" fill="#9333ea" opacity="0.12" stroke="#9333ea" stroke-width="2"/>
  <text x="350" y="135" text-anchor="middle" fill="#c084fc" font-family="system-ui" font-size="14" font-weight="700">InsightsEngine</text>
  <text x="350" y="158" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">7-day / 30-day windows</text>
  <text x="350" y="175" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">NaturalLanguage sentiment</text>
  <text x="350" y="192" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">Pattern detection</text>
  <text x="350" y="209" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">Caching layer</text>

  <!-- Arrow to patterns -->
  <line x1="440" y1="165" x2="490" y2="165" stroke="#c084fc" stroke-width="1.5" opacity="0.5"/>
  <polygon points="488,160 498,165 488,170" fill="#c084fc" opacity="0.5"/>

  <!-- Pattern Detection outputs -->
  <rect x="500" y="85" width="180" height="40" rx="6" fill="#9333ea" opacity="0.1"/>
  <text x="590" y="110" text-anchor="middle" fill="#c084fc" font-family="system-ui" font-size="11">Mood Trends (MoodRating avg)</text>

  <rect x="500" y="135" width="180" height="40" rx="6" fill="#9333ea" opacity="0.1"/>
  <text x="590" y="160" text-anchor="middle" fill="#c084fc" font-family="system-ui" font-size="11">Trigger Patterns (day/type)</text>

  <rect x="500" y="185" width="180" height="40" rx="6" fill="#9333ea" opacity="0.1"/>
  <text x="590" y="210" text-anchor="middle" fill="#c084fc" font-family="system-ui" font-size="11">Journal Prompts (personalized)</text>

  <!-- Arrow to view -->
  <line x1="680" y1="107" x2="730" y2="140" stroke="#c084fc" stroke-width="1" opacity="0.4"/>
  <line x1="680" y1="155" x2="730" y2="155" stroke="#c084fc" stroke-width="1" opacity="0.4"/>
  <line x1="680" y1="205" x2="730" y2="170" stroke="#c084fc" stroke-width="1" opacity="0.4"/>

  <!-- InsightsView -->
  <rect x="730" y="100" width="140" height="130" rx="12" fill="#22c55e" opacity="0.08" stroke="#22c55e" stroke-width="1.5"/>
  <text x="800" y="135" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="14" font-weight="700">InsightsView</text>
  <text x="800" y="158" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">Trend cards</text>
  <text x="800" y="175" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">Pattern alerts</text>
  <text x="800" y="192" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">Weekly summary</text>
  <text x="800" y="209" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">Journal prompts</text>

  <!-- Example insights at bottom -->
  <rect x="50" y="270" width="800" height="70" rx="10" fill="#9333ea" opacity="0.05" stroke="#9333ea" stroke-width="1" stroke-dasharray="6 3"/>
  <text x="450" y="295" text-anchor="middle" fill="#c084fc" font-family="system-ui" font-size="12" font-weight="600">Example Insights Generated</text>
  <text x="200" y="320" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">"Mood improved 15% this week"</text>
  <text x="450" y="320" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">"More urges on Fridays (live sports)"</text>
  <text x="700" y="320" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="10">"Write about what made you proud"</text>
</svg>