<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 380" width="900" height="380">
  <defs>
    <linearGradient id="bg6" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0a1a"/>
      <stop offset="100%" style="stop-color:#1a0e2e"/>
    </linearGradient>
  </defs>

  <rect width="900" height="380" fill="url(#bg6)" rx="16"/>

  <text x="450" y="38" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="20" font-weight="700">LoadingState&lt;T&gt; — State Machine</text>
  <text x="450" y="58" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="12">Every async operation flows through these four states</text>

  <!-- Idle -->
  <rect x="50" y="100" width="160" height="90" rx="12" fill="#64748b" opacity="0.12" stroke="#64748b" stroke-width="2"/>
  <text x="130" y="135" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="18" font-weight="700">.idle</text>
  <text x="130" y="160" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">Initial state</text>
  <text x="130" y="176" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">No data loaded</text>

  <!-- Arrow idle → loading -->
  <line x1="210" y1="145" x2="270" y2="145" stroke="#64748b" stroke-width="1.5" opacity="0.5"/>
  <polygon points="268,140 278,145 268,150" fill="#64748b" opacity="0.5"/>
  <text x="240" y="135" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="9">fetch()</text>

  <!-- Loading -->
  <rect x="280" y="100" width="160" height="90" rx="12" fill="#f97316" opacity="0.12" stroke="#f97316" stroke-width="2"/>
  <text x="360" y="135" text-anchor="middle" fill="#fdba74" font-family="system-ui" font-size="18" font-weight="700">.loading</text>
  <text x="360" y="160" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">ProgressView</text>
  <text x="360" y="176" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">or skeleton shimmer</text>

  <!-- Arrow loading → loaded (success) -->
  <line x1="440" y1="125" x2="510" y2="125" stroke="#22c55e" stroke-width="1.5" opacity="0.5"/>
  <polygon points="508,120 518,125 508,130" fill="#22c55e" opacity="0.5"/>
  <text x="475" y="118" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="9">success</text>

  <!-- Arrow loading → error -->
  <line x1="440" y1="165" x2="510" y2="165" stroke="#ef4444" stroke-width="1.5" opacity="0.5"/>
  <polygon points="508,160 518,165 508,170" fill="#ef4444" opacity="0.5"/>
  <text x="475" y="158" text-anchor="middle" fill="#fca5a5" font-family="system-ui" font-size="9">failure</text>

  <!-- Loaded -->
  <rect x="520" y="80" width="160" height="90" rx="12" fill="#22c55e" opacity="0.12" stroke="#22c55e" stroke-width="2"/>
  <text x="600" y="115" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="18" font-weight="700">.loaded(T)</text>
  <text x="600" y="140" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">Display content</text>
  <text x="600" y="156" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">Pull to refresh</text>

  <!-- Error -->
  <rect x="520" y="190" width="160" height="90" rx="12" fill="#ef4444" opacity="0.12" stroke="#ef4444" stroke-width="2"/>
  <text x="600" y="225" text-anchor="middle" fill="#fca5a5" font-family="system-ui" font-size="18" font-weight="700">.error</text>
  <text x="600" y="250" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">Error message</text>
  <text x="600" y="266" text-anchor="middle" fill="#94a3b8" font-family="system-ui" font-size="11">+ Retry button</text>

  <!-- Retry arrow from error back to loading -->
  <path d="M 600 280 L 600 320 L 360 320 L 360 190" stroke="#ef4444" stroke-width="1.5" fill="none" opacity="0.4" stroke-dasharray="6 3"/>
  <polygon points="355,192 360,182 365,192" fill="#ef4444" opacity="0.4"/>
  <text x="480" y="340" text-anchor="middle" fill="#fca5a5" font-family="system-ui" font-size="10">retry() → back to .loading</text>

  <!-- Refresh arrow from loaded back to loading -->
  <path d="M 600 80 L 600 70 L 360 70 L 360 100" stroke="#22c55e" stroke-width="1.5" fill="none" opacity="0.4" stroke-dasharray="6 3"/>
  <polygon points="355,98 360,108 365,98" fill="#22c55e" opacity="0.4"/>
  <text x="480" y="67" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="10">pull to refresh</text>

  <!-- Code snippet -->
  <rect x="720" y="100" width="160" height="180" rx="10" fill="#1e1b2e" stroke="#64748b" stroke-width="1"/>
  <text x="740" y="122" fill="#64748b" font-family="monospace" font-size="10">enum LoadingState</text>
  <text x="740" y="140" fill="#64748b" font-family="monospace" font-size="10">&lt;T&gt; {</text>
  <text x="752" y="160" fill="#94a3b8" font-family="monospace" font-size="10">case idle</text>
  <text x="752" y="178" fill="#fdba74" font-family="monospace" font-size="10">case loading</text>
  <text x="752" y="196" fill="#86efac" font-family="monospace" font-size="10">case loaded(T)</text>
  <text x="752" y="214" fill="#fca5a5" font-family="monospace" font-size="10">case error(</text>
  <text x="764" y="232" fill="#fca5a5" font-family="monospace" font-size="10">String)</text>
  <text x="740" y="252" fill="#64748b" font-family="monospace" font-size="10">}</text>
</svg>