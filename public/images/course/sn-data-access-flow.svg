<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 380" width="900" height="380">
  <defs>
    <linearGradient id="bgSN5" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0a1a"/>
      <stop offset="100%" style="stop-color:#1a0e2e"/>
    </linearGradient>
  </defs>

  <rect width="900" height="380" fill="url(#bgSN5)" rx="16"/>

  <text x="450" y="38" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="20" font-weight="700">BetAway — Data Access Architecture</text>
  <text x="450" y="58" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="12">Views read with @Query, ViewModels write with ModelContext, Managers wrap system services</text>

  <!-- Column 1: Views (Reads) -->
  <rect x="40" y="80" width="250" height="200" rx="12" fill="#9333ea" opacity="0.08" stroke="#9333ea" stroke-width="1.5"/>
  <text x="165" y="108" text-anchor="middle" fill="#c084fc" font-family="system-ui" font-size="15" font-weight="700">Views — @Query Reads</text>
  <text x="165" y="128" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="10">Reactive, auto-updating, declarative</text>
  <rect x="55" y="142" width="220" height="30" rx="6" fill="#9333ea" opacity="0.15"/>
  <text x="165" y="162" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">@Query var checkins: [DailyCheckin]</text>
  <rect x="55" y="178" width="220" height="30" rx="6" fill="#9333ea" opacity="0.15"/>
  <text x="165" y="198" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">@Query var entries: [JournalEntry]</text>
  <rect x="55" y="214" width="220" height="30" rx="6" fill="#9333ea" opacity="0.15"/>
  <text x="165" y="234" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">@Query var profiles: [UserProfile]</text>

  <!-- Column 2: ViewModels (Writes) -->
  <rect x="325" y="80" width="250" height="200" rx="12" fill="#6366f1" opacity="0.08" stroke="#6366f1" stroke-width="1.5"/>
  <text x="450" y="108" text-anchor="middle" fill="#818cf8" font-family="system-ui" font-size="15" font-weight="700">ViewModels — Writes</text>
  <text x="450" y="128" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="10">Receive ModelContext at call site</text>
  <rect x="340" y="142" width="220" height="30" rx="6" fill="#6366f1" opacity="0.15"/>
  <text x="450" y="162" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">submitPledge(context:)</text>
  <rect x="340" y="178" width="220" height="30" rx="6" fill="#6366f1" opacity="0.15"/>
  <text x="450" y="198" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">logUrge(context:)</text>
  <rect x="340" y="214" width="220" height="30" rx="6" fill="#6366f1" opacity="0.15"/>
  <text x="450" y="234" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">resetAllData(context:)</text>

  <!-- Column 3: Managers (System) -->
  <rect x="610" y="80" width="250" height="200" rx="12" fill="#06b6d4" opacity="0.08" stroke="#06b6d4" stroke-width="1.5"/>
  <text x="735" y="108" text-anchor="middle" fill="#67e8f9" font-family="system-ui" font-size="15" font-weight="700">Managers — Services</text>
  <text x="735" y="128" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="10">System frameworks wrapped</text>
  <rect x="625" y="142" width="220" height="30" rx="6" fill="#06b6d4" opacity="0.12"/>
  <text x="735" y="162" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">NotificationManager</text>
  <rect x="625" y="178" width="220" height="30" rx="6" fill="#06b6d4" opacity="0.12"/>
  <text x="735" y="198" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">HapticManager (enum)</text>
  <rect x="625" y="214" width="220" height="30" rx="6" fill="#06b6d4" opacity="0.12"/>
  <text x="735" y="234" text-anchor="middle" fill="#e2e8f0" font-family="system-ui" font-size="10">SharedDataManager (widget)</text>

  <!-- SwiftData Store at bottom -->
  <rect x="150" y="310" width="600" height="50" rx="12" fill="#22c55e" opacity="0.1" stroke="#22c55e" stroke-width="2"/>
  <text x="450" y="340" text-anchor="middle" fill="#86efac" font-family="system-ui" font-size="14" font-weight="700">SwiftData ModelContainer — UserProfile, DailyCheckin, UrgeLog, JournalEntry</text>

  <!-- Arrows down to store -->
  <line x1="165" y1="280" x2="300" y2="310" stroke="#9333ea" stroke-width="1.5" opacity="0.4" stroke-dasharray="4 3"/>
  <text x="210" y="298" fill="#c084fc" font-family="system-ui" font-size="8">@Query reads</text>
  <line x1="450" y1="280" x2="450" y2="310" stroke="#6366f1" stroke-width="1.5" opacity="0.4"/>
  <text x="480" y="298" fill="#818cf8" font-family="system-ui" font-size="8">context.insert()</text>
</svg>