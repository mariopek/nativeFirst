---
export const prerender = true;

import BaseLayout from '../../../layouts/BaseLayout.astro';
import { SITE, APPS } from '../../../lib/constants';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog', ({ data }) => !data.draft);
const latestPosts = posts
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 3);
---

<BaseLayout title={`${SITE.name} â€” Fireship Style Experiment`}>
  <!-- Force dark mode for Fireship style -->
  <style>
    /* Fireship-inspired overrides */
    :root {
      --fs-bg: #0a0a0a;
      --fs-surface: #111111;
      --fs-surface-2: #1a1a1a;
      --fs-border: #222222;
      --fs-text: #e0e0e0;
      --fs-text-muted: #888888;
      --fs-neon-orange: #ff6e00;
      --fs-neon-yellow: #ffd600;
      --fs-neon-green: #00e676;
      --fs-neon-blue: #00b0ff;
      --fs-neon-pink: #ff4081;
      --fs-neon-purple: #b388ff;
    }

    .fs-body {
      background: var(--fs-bg) !important;
      color: var(--fs-text);
      font-family: 'Inter Variable', -apple-system, sans-serif;
    }

    .fs-glow-orange { text-shadow: 0 0 20px rgba(255, 110, 0, 0.5), 0 0 40px rgba(255, 110, 0, 0.2); }
    .fs-glow-blue { text-shadow: 0 0 20px rgba(0, 176, 255, 0.5), 0 0 40px rgba(0, 176, 255, 0.2); }
    .fs-glow-green { text-shadow: 0 0 20px rgba(0, 230, 118, 0.5), 0 0 40px rgba(0, 230, 118, 0.2); }
    .fs-glow-pink { text-shadow: 0 0 20px rgba(255, 64, 129, 0.5), 0 0 40px rgba(255, 64, 129, 0.2); }

    .fs-card {
      background: var(--fs-surface);
      border: 1px solid var(--fs-border);
      border-radius: 12px;
      transition: all 0.2s ease;
    }

    .fs-card:hover {
      border-color: var(--fs-neon-orange);
      box-shadow: 0 0 30px rgba(255, 110, 0, 0.1);
      transform: translateY(-2px);
    }

    .fs-badge {
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 4px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .fs-gradient-text {
      background: linear-gradient(135deg, var(--fs-neon-orange), var(--fs-neon-yellow));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .fs-gradient-text-blue {
      background: linear-gradient(135deg, var(--fs-neon-blue), var(--fs-neon-green));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .fs-hero-bg {
      background:
        radial-gradient(ellipse 80% 50% at 50% -20%, rgba(255, 110, 0, 0.15), transparent),
        radial-gradient(ellipse 60% 40% at 80% 50%, rgba(0, 176, 255, 0.1), transparent),
        radial-gradient(ellipse 50% 50% at 20% 80%, rgba(255, 64, 129, 0.08), transparent),
        var(--fs-bg);
    }

    .fs-grid-bg {
      background-image:
        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
    }

    .fs-btn-primary {
      background: var(--fs-neon-orange);
      color: #000;
      font-weight: 700;
      padding: 12px 28px;
      border-radius: 8px;
      transition: all 0.15s ease;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-size: 14px;
    }

    .fs-btn-primary:hover {
      background: var(--fs-neon-yellow);
      box-shadow: 0 0 20px rgba(255, 110, 0, 0.4);
      transform: translateY(-1px);
    }

    .fs-btn-ghost {
      border: 1px solid var(--fs-border);
      color: var(--fs-text);
      font-weight: 600;
      padding: 12px 28px;
      border-radius: 8px;
      transition: all 0.15s ease;
      font-size: 14px;
    }

    .fs-btn-ghost:hover {
      border-color: var(--fs-neon-orange);
      color: var(--fs-neon-orange);
    }

    .fs-terminal-prompt::before {
      content: '$ ';
      color: var(--fs-neon-green);
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
    }

    .fs-section-divider {
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--fs-border), transparent);
    }

    .fs-tag {
      background: var(--fs-surface-2);
      color: var(--fs-neon-orange);
      font-size: 11px;
      font-weight: 600;
      padding: 3px 10px;
      border-radius: 4px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    @keyframes fs-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .fs-status-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--fs-neon-green);
      animation: fs-pulse 2s ease-in-out infinite;
    }

    /* Scrollbar */
    .fs-body::-webkit-scrollbar { width: 6px; }
    .fs-body::-webkit-scrollbar-track { background: var(--fs-bg); }
    .fs-body::-webkit-scrollbar-thumb { background: var(--fs-border); border-radius: 3px; }
  </style>

  <div class="fs-body min-h-screen">
    <!-- Nav -->
    <nav class="fixed top-0 left-0 right-0 z-50 border-b border-[#222]" style="background: rgba(10,10,10,0.85); backdrop-filter: blur(12px);">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 flex items-center justify-between h-14">
        <a href="/experiment/fireship/" class="flex items-center gap-2">
          <div class="w-8 h-8 rounded-lg flex items-center justify-center" style="background: var(--fs-neon-orange);">
            <span class="text-black font-black text-sm">N</span>
          </div>
          <span class="font-bold text-white text-base">nativefirst</span>
        </a>
        <div class="hidden md:flex items-center gap-6">
          <a href="/experiment/fireship/" class="text-sm text-[#888] hover:text-white transition-colors">home</a>
          <a href="#apps" class="text-sm text-[#888] hover:text-white transition-colors">apps</a>
          <a href="/experiment/fireship/blog" class="text-sm text-[#888] hover:text-white transition-colors">blog</a>
          <a href="/learn" class="text-sm text-[#888] hover:text-white transition-colors">learn</a>
          <a href="/contact" class="text-sm text-[#888] hover:text-white transition-colors">contact</a>
        </div>
        <a href="/" class="text-xs text-[#555] hover:text-[#888] transition-colors">back to main</a>
      </div>
    </nav>

    <!-- Hero -->
    <section class="fs-hero-bg fs-grid-bg relative min-h-[85vh] flex items-center pt-14">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 py-20">
        <div class="max-w-3xl">
          <div class="flex items-center gap-2 mb-6">
            <div class="fs-status-dot"></div>
            <span class="fs-badge text-[#888]" style="background: var(--fs-surface-2);">building native apps</span>
          </div>

          <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white leading-[1.1] mb-6 tracking-tight">
            Ship native apps<br/>
            <span class="fs-gradient-text">at lightspeed</span>
          </h1>

          <p class="text-lg sm:text-xl text-[#888] max-w-xl mb-10 leading-relaxed">
            iOS & macOS apps built with Swift and SwiftUI. No cross-platform compromises. No Electron wrappers. Just pure native code.
          </p>

          <div class="flex flex-wrap gap-3">
            <a href="#apps" class="fs-btn-primary inline-flex items-center gap-2">
              explore apps
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
            </a>
            <a href="/experiment/fireship/blog" class="fs-btn-ghost inline-flex items-center gap-2">
              read the blog
            </a>
          </div>
        </div>

        <!-- Floating code snippet -->
        <div class="hidden lg:block absolute right-8 xl:right-20 top-1/2 -translate-y-1/2 w-[340px]">
          <div class="fs-card p-4 font-mono text-sm">
            <div class="flex items-center gap-2 mb-3 pb-3 border-b border-[#222]">
              <div class="w-3 h-3 rounded-full bg-[#ff5f56]"></div>
              <div class="w-3 h-3 rounded-full bg-[#ffbd2e]"></div>
              <div class="w-3 h-3 rounded-full bg-[#27c93f]"></div>
              <span class="text-[#555] text-xs ml-2">NativeFirst.swift</span>
            </div>
            <code class="block">
              <span class="text-[#ff4081]">import</span> <span class="text-[#00b0ff]">SwiftUI</span><br/><br/>
              <span class="text-[#ff4081]">struct</span> <span class="text-[#ffd600]">NativeApp</span>: <span class="text-[#00b0ff]">App</span> {'{'}<br/>
              <span class="text-[#555]">&nbsp;&nbsp;// No compromises</span><br/>
              <span class="text-[#ff4081]">&nbsp;&nbsp;var</span> body: <span class="text-[#00b0ff]">some</span> Scene {'{'}<br/>
              <span class="text-[#e0e0e0]">&nbsp;&nbsp;&nbsp;&nbsp;WindowGroup {'{'}</span><br/>
              <span class="text-[#00e676]">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ContentView()</span><br/>
              <span class="text-[#e0e0e0]">&nbsp;&nbsp;&nbsp;&nbsp;{'}'}</span><br/>
              <span class="text-[#e0e0e0]">&nbsp;&nbsp;{'}'}</span><br/>
              <span class="text-[#e0e0e0]">{'}'}</span>
            </code>
          </div>
        </div>
      </div>
    </section>

    <div class="fs-section-divider"></div>

    <!-- Apps Section -->
    <section id="apps" class="py-20 sm:py-28" style="background: var(--fs-bg);">
      <div class="max-w-6xl mx-auto px-4 sm:px-6">
        <div class="flex items-center gap-3 mb-2">
          <span class="text-[#ff6e00] font-mono text-sm font-bold">//</span>
          <span class="text-[#888] font-mono text-sm">our apps</span>
        </div>
        <h2 class="text-3xl sm:text-4xl font-black text-white mb-4 tracking-tight">
          Built for <span class="fs-gradient-text-blue">Apple</span>
        </h2>
        <p class="text-[#888] max-w-lg mb-12">Native apps designed with care. Each one crafted specifically for its platform.</p>

        <div class="grid md:grid-cols-3 gap-4">
          {Object.entries(APPS).map(([key, app]) => (
            <a href={`/apps/${key}`} class="fs-card p-6 group block">
              <div class="flex items-center gap-4 mb-4">
                <img src={app.icon} alt={app.name} class="w-12 h-12 rounded-xl" />
                <div>
                  <div class="flex items-center gap-2">
                    <h3 class="font-bold text-white text-lg">{app.name}</h3>
                    <span class:list={[
                      'fs-badge',
                      app.status === 'available'
                        ? 'text-[#00e676] bg-[#00e676]/10'
                        : 'text-[#ffd600] bg-[#ffd600]/10'
                    ]}>
                      {app.status === 'available' ? 'live' : 'soon'}
                    </span>
                  </div>
                  <span class="text-xs text-[#666] font-mono">{app.platform}</span>
                </div>
              </div>
              <p class="text-sm text-[#888] leading-relaxed mb-4">{app.description}</p>
              <span class="text-sm font-semibold text-[#ff6e00] group-hover:text-[#ffd600] transition-colors inline-flex items-center gap-1">
                learn more
                <svg class="w-3.5 h-3.5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7" /></svg>
              </span>
            </a>
          ))}
        </div>
      </div>
    </section>

    <div class="fs-section-divider"></div>

    <!-- Philosophy / Why Native -->
    <section class="py-20 sm:py-28 fs-grid-bg" style="background: var(--fs-surface);">
      <div class="max-w-6xl mx-auto px-4 sm:px-6">
        <div class="flex items-center gap-3 mb-2">
          <span class="text-[#00b0ff] font-mono text-sm font-bold">//</span>
          <span class="text-[#888] font-mono text-sm">why native</span>
        </div>
        <h2 class="text-3xl sm:text-4xl font-black text-white mb-12 tracking-tight">
          The <span class="fs-gradient-text">native advantage</span>
        </h2>

        <div class="grid sm:grid-cols-3 gap-4">
          <div class="p-6 rounded-xl border border-[#222] bg-[#0a0a0a]">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center mb-4" style="background: rgba(255, 110, 0, 0.15);">
              <svg class="w-5 h-5 text-[#ff6e00]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
            </div>
            <h3 class="font-bold text-white mb-2">60fps. Always.</h3>
            <p class="text-sm text-[#888] leading-relaxed">Swift + SwiftUI = buttery smooth. No bridge overhead, no JS thread, just pure metal performance.</p>
          </div>

          <div class="p-6 rounded-xl border border-[#222] bg-[#0a0a0a]">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center mb-4" style="background: rgba(0, 176, 255, 0.15);">
              <svg class="w-5 h-5 text-[#00b0ff]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
              </svg>
            </div>
            <h3 class="font-bold text-white mb-2">Privacy by default</h3>
            <p class="text-sm text-[#888] leading-relaxed">Your data stays on-device. No cloud, no tracking, no third-party analytics. Period.</p>
          </div>

          <div class="p-6 rounded-xl border border-[#222] bg-[#0a0a0a]">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center mb-4" style="background: rgba(0, 230, 118, 0.15);">
              <svg class="w-5 h-5 text-[#00e676]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
              </svg>
            </div>
            <h3 class="font-bold text-white mb-2">Platform native</h3>
            <p class="text-sm text-[#888] leading-relaxed">Follows Apple HIG. Uses system APIs. Feels like it belongs on your device because it does.</p>
          </div>
        </div>
      </div>
    </section>

    <div class="fs-section-divider"></div>

    <!-- Latest Posts -->
    {latestPosts.length > 0 && (
      <section class="py-20 sm:py-28" style="background: var(--fs-bg);">
        <div class="max-w-6xl mx-auto px-4 sm:px-6">
          <div class="flex items-center justify-between mb-12">
            <div>
              <div class="flex items-center gap-3 mb-2">
                <span class="text-[#ff4081] font-mono text-sm font-bold">//</span>
                <span class="text-[#888] font-mono text-sm">latest posts</span>
              </div>
              <h2 class="text-3xl sm:text-4xl font-black text-white tracking-tight">
                From the <span style="color: var(--fs-neon-pink);" class="fs-glow-pink">blog</span>
              </h2>
            </div>
            <a href="/experiment/fireship/blog" class="hidden sm:inline-flex items-center gap-1 text-sm font-semibold text-[#ff6e00] hover:text-[#ffd600] transition-colors">
              view all
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
            </a>
          </div>

          <div class="grid md:grid-cols-3 gap-4">
            {latestPosts.map((post) => (
              <a href={`/blog/${post.id}`} class="fs-card overflow-hidden group block">
                <div class="aspect-video bg-[#1a1a1a] relative overflow-hidden">
                  {post.data.coverImage ? (
                    <img src={post.data.coverImage} alt={post.data.coverImageAlt || post.data.title} class="w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-300" />
                  ) : (
                    <div class="absolute inset-0 flex items-center justify-center">
                      <span class="text-4xl font-black text-[#222]">{'{...}'}</span>
                    </div>
                  )}
                </div>
                <div class="p-5">
                  <div class="flex items-center gap-2 mb-3">
                    {post.data.tags.slice(0, 2).map((tag) => (
                      <span class="fs-tag">{tag}</span>
                    ))}
                  </div>
                  <h3 class="font-bold text-white text-base mb-2 group-hover:text-[#ff6e00] transition-colors line-clamp-2">{post.data.title}</h3>
                  <p class="text-sm text-[#666] line-clamp-2 mb-3">{post.data.description}</p>
                  <time class="text-xs text-[#555] font-mono">{new Intl.DateTimeFormat('en-US', { year: 'numeric', month: 'short', day: 'numeric' }).format(post.data.pubDate)}</time>
                </div>
              </a>
            ))}
          </div>
        </div>
      </section>
    )}

    <div class="fs-section-divider"></div>

    <!-- CTA -->
    <section class="py-20 sm:py-28 relative overflow-hidden" style="background: var(--fs-surface);">
      <div class="absolute inset-0 fs-grid-bg opacity-50"></div>
      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full opacity-10" style="background: radial-gradient(circle, var(--fs-neon-orange), transparent);"></div>
      <div class="relative max-w-2xl mx-auto px-4 sm:px-6 text-center">
        <h2 class="text-3xl sm:text-4xl font-black text-white mb-4 tracking-tight">
          Got a project in mind?
        </h2>
        <p class="text-[#888] mb-8 text-lg">We build apps that users actually love. Let's talk.</p>
        <a href="/contact" class="fs-btn-primary inline-flex items-center gap-2">
          get in touch
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
        </a>
      </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-[#222] py-8" style="background: var(--fs-bg);">
      <div class="max-w-6xl mx-auto px-4 sm:px-6">
        <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
          <div class="flex items-center gap-2">
            <div class="w-6 h-6 rounded flex items-center justify-center" style="background: var(--fs-neon-orange);">
              <span class="text-black font-black text-xs">N</span>
            </div>
            <span class="text-sm text-[#888]">&copy; {new Date().getFullYear()} NativeFirst</span>
          </div>
          <div class="flex items-center gap-6">
            <a href="/blog" class="text-xs text-[#666] hover:text-white transition-colors">blog</a>
            <a href="/learn" class="text-xs text-[#666] hover:text-white transition-colors">learn</a>
            <a href="/privacy" class="text-xs text-[#666] hover:text-white transition-colors">privacy</a>
            <a href="/terms" class="text-xs text-[#666] hover:text-white transition-colors">terms</a>
          </div>
        </div>
      </div>
    </footer>
  </div>
</BaseLayout>
