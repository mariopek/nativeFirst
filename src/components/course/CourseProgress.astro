---
interface Props {
  currentModule: number;
  currentLesson: number;
  totalLessons: number;
  currentIndex: number;
}

const { currentModule, currentLesson, totalLessons, currentIndex } = Astro.props;
const progress = Math.round(((currentIndex + 1) / totalLessons) * 100);
---

<div class="mb-6 p-4 rounded-xl bg-surface border border-border">
  <div class="flex items-center justify-between mb-2">
    <span class="text-xs font-mono font-medium text-text-muted uppercase tracking-wider">
      Lesson {currentIndex + 1} of {totalLessons}
    </span>
    <span class="text-xs font-mono font-bold text-accent">
      {progress}%
    </span>
  </div>
  <div class="w-full h-2 bg-surface-2 rounded-full overflow-hidden">
    <div
      class="h-full rounded-full gradient-brand transition-all duration-500"
      style={`width: ${progress}%`}
    ></div>
  </div>
  <p class="text-xs font-mono text-text-muted mt-2">
    Module {currentModule} &middot; Lesson {currentLesson}
  </p>
</div>
