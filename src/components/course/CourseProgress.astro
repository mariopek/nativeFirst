---
interface Props {
  currentModule: number;
  currentLesson: number;
  totalLessons: number;
  currentIndex: number;
}

const { currentModule, currentLesson, totalLessons, currentIndex } = Astro.props;
const progress = Math.round(((currentIndex + 1) / totalLessons) * 100);
---

<div class="mb-6 p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-800">
  <div class="flex items-center justify-between mb-2">
    <span class="text-xs font-medium text-slate-600 dark:text-slate-400">
      Lesson {currentIndex + 1} of {totalLessons}
    </span>
    <span class="text-xs font-semibold text-purple-600 dark:text-purple-400">
      {progress}%
    </span>
  </div>
  <div class="w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden">
    <div
      class="h-full rounded-full gradient-brand transition-all duration-500"
      style={`width: ${progress}%`}
    ></div>
  </div>
  <p class="text-xs text-slate-500 dark:text-slate-500 mt-2">
    Module {currentModule} &middot; Lesson {currentLesson}
  </p>
</div>
