---
interface Props {
  moduleNumber: number;
  moduleTitle: string;
  moduleDescription: string;
  lessons: Array<{
    id: string;
    data: {
      title: string;
      lesson: number;
      duration: string;
      difficulty: string;
    };
  }>;
}

const { moduleNumber, moduleTitle, moduleDescription, lessons } = Astro.props;
---

<div class="group relative rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 p-6 sm:p-8 hover:border-purple-300 dark:hover:border-purple-700 transition-colors">
  <!-- Module badge -->
  <div class="flex items-center gap-3 mb-4">
    <span class="inline-flex items-center justify-center w-10 h-10 rounded-xl gradient-brand text-white font-display font-bold text-lg">
      {moduleNumber}
    </span>
    <div>
      <p class="text-xs font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wider">Module {moduleNumber}</p>
      <h3 class="font-display font-bold text-xl text-slate-900 dark:text-white">{moduleTitle}</h3>
    </div>
  </div>

  <!-- Description -->
  <p class="text-slate-600 dark:text-slate-400 text-sm mb-6">{moduleDescription}</p>

  <!-- Lesson list -->
  <ul class="space-y-3">
    {lessons.map((lesson) => (
      <li>
        <a
          href={`/learn/${lesson.id}`}
          class="flex items-center gap-3 p-3 -mx-3 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors group/lesson"
        >
          <span class="flex-shrink-0 w-7 h-7 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-xs font-semibold text-slate-500 dark:text-slate-400 group-hover/lesson:bg-purple-100 dark:group-hover/lesson:bg-purple-900/30 group-hover/lesson:text-purple-600 dark:group-hover/lesson:text-purple-400 transition-colors">
            {lesson.data.lesson}
          </span>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium text-slate-900 dark:text-white truncate">{lesson.data.title}</p>
            <p class="text-xs text-slate-500 dark:text-slate-500">{lesson.data.duration}</p>
          </div>
          <svg class="w-4 h-4 text-slate-400 dark:text-slate-600 group-hover/lesson:text-purple-500 transition-colors flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </li>
    ))}
  </ul>

  <!-- Lesson count -->
  <div class="mt-6 pt-4 border-t border-slate-100 dark:border-slate-800">
    <p class="text-xs text-slate-500 dark:text-slate-500">
      {lessons.length} {lessons.length === 1 ? 'lesson' : 'lessons'}
    </p>
  </div>
</div>
