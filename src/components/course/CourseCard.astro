---
interface Props {
  moduleNumber: number;
  moduleTitle: string;
  moduleDescription: string;
  lessons: Array<{
    id: string;
    data: {
      title: string;
      lesson: number;
      duration: string;
      difficulty: string;
    };
  }>;
}

const { moduleNumber, moduleTitle, moduleDescription, lessons } = Astro.props;
---

<div class="group card p-6 sm:p-8">
  <!-- Module badge -->
  <div class="flex items-center gap-3 mb-4">
    <span class="inline-flex items-center justify-center w-10 h-10 rounded-xl gradient-brand text-white font-mono font-bold text-lg">
      {moduleNumber}
    </span>
    <div>
      <p class="text-xs font-mono font-bold text-accent uppercase tracking-wider">Module {moduleNumber}</p>
      <h3 class="font-display font-black tracking-tight text-xl text-white">{moduleTitle}</h3>
    </div>
  </div>

  <!-- Description -->
  <p class="text-text-muted text-sm mb-6">{moduleDescription}</p>

  <!-- Lesson list -->
  <ul class="space-y-2">
    {lessons.map((lesson) => (
      <li>
        <a
          href={`/learn/${lesson.id}`}
          class="flex items-center gap-3 p-3 -mx-3 rounded-xl hover:bg-surface-2/70 transition-colors group/lesson"
        >
          <span class="flex-shrink-0 w-7 h-7 rounded-lg bg-surface-2 flex items-center justify-center text-xs font-mono font-bold text-text-muted group-hover/lesson:bg-accent/10 group-hover/lesson:text-accent transition-colors">
            {lesson.data.lesson}
          </span>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium text-white truncate group-hover/lesson:text-accent transition-colors">{lesson.data.title}</p>
            <p class="text-xs font-mono text-text-muted">{lesson.data.duration}</p>
          </div>
          <svg class="w-4 h-4 text-text-muted group-hover/lesson:text-accent transition-colors flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </li>
    ))}
  </ul>

  <!-- Lesson count -->
  <div class="mt-6 pt-4 border-t border-border">
    <p class="text-xs font-mono text-text-muted uppercase tracking-wider">
      {lessons.length} {lessons.length === 1 ? 'lesson' : 'lessons'}
    </p>
  </div>
</div>
